<!-- 脚本插件页面 -->
<div class="page-container">
    
    <div class="page-header">
        <h1>脚本插件</h1>
        <p>管理脚本任务，提高Web3操作效率</p>
        <div class="header-actions">
            <!-- <button id="add-script-btn" class="btn btn-primary"><i class="fas fa-plus"></i> 添加脚本</button> -->
            <button id="refresh-scripts-list-btn" class="btn btn-secondary"><i class="fas fa-sync-alt"></i> 刷新列表</button>
        </div>
    </div>

    <div class="scripts-filter-bar">
        <div class="search-box">
            <input type="text" id="scriptSearchInput" placeholder="搜索脚本...">
            <i class="fas fa-search"></i>
        </div>
        <div class="filter-actions">
            <select id="scriptTypeFilter">
                <option value="">全部分类</option>
                <!-- 类型/分类选项将由JavaScript动态生成 -->
            </select>
            <select id="scriptStatusFilter">
                <option value="">全部状态</option>
                <option value="active">可用</option>
                <!-- 如有需要，其他状态选项可由JS动态生成或在此硬编码 -->
            </select>
        </div>
    </div>

    <div class="script-cards-grid" id="scriptCardsContainer">
        <!-- 脚本卡片将由JavaScript动态填充 -->
    </div>
</div>

<!-- 运行脚本模态框模板 -->
<template id="tpl-modal-run-plugin">
    <div class="modal-overlay">
        <div class="modal-box run-modal">
            <button class="modal-close-btn">&times;</button>
            <h3 class="modal-title">运行插件: <span id="run-plugin-name">Plugin Name</span></h3>
            <div class="modal-content">
                <div class="run-config-section">
                    <h4>选择钱包</h4>
                    <div class="wallet-selection-compact-modal">
                         <div class="selection-actions">
                            <button class="btn-link btn-select-all-wallets-modal">全选</button>
                            <button class="btn-link btn-deselect-all-wallets-modal">反选</button>
                            <input type="search" class="wallet-search-modal" placeholder="搜索钱包...">
                        </div>
                        <div class="wallet-checkboxes-compact-modal" id="modal-wallet-selection-container">
                            <!-- Wallet checkboxes will be loaded here -->
                        </div>
                         <p>已选: <span id="modal-selected-wallet-count">0</span> 个钱包</p>
                    </div>
                </div>
                 <div class="run-config-section">
                     <h4>执行设置</h4>
                     <div class="option-group inline">
                         <label for="modal-task-interval-min">任务间隔(秒):</label>
                         <input type="number" id="modal-task-interval-min" value="30" min="1"> - 
                         <input type="number" id="modal-task-interval-max" value="60" min="1">
                         <input type="checkbox" id="modal-random-interval" checked><label for="modal-random-interval">随机</label>
                     </div>
                      <div class="option-group inline">
                         <label for="modal-gas-strategy">Gas 策略:</label> 
                         <select id="modal-gas-strategy">
                            <option value="auto">自动(推荐)</option>
                            <option value="fast">快速</option>
                            <option value="eco">省钱</option>
                         </select>
                     </div>
                     <div id="script-specific-params-modal"></div>
                </div>
                <div class="run-log-section">
                    <h4>执行日志</h4>
                    <div class="log-container modal-log-container" id="modal-log-container">
                        <!-- Log entries will appear here -->
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary modal-cancel-btn">取消</button>
                <button class="btn btn-success" id="modal-start-execution-btn"><i class="fa fa-play"></i> 开始执行</button>
            </div>
        </div>
    </div>
</template> 