# FourAir社区撸毛工具箱 (Electron 桌面版)

这是一个专为Web3用户设计的空投任务管理和批量交互工具，以 Electron 桌面应用的形式提供，旨在帮助用户在本地安全、高效地参与各种空投活动和链上交互。

## 主要功能

*   **仪表盘**: 概览核心数据、主要网络 Gas 费等。
*   **钱包管理**:
    *   安全管理钱包（地址、私钥、助记词、备注、分组），支持批量生成、导入/导出 (JSON) 和精细化分组。
    *   敏感信息（私钥、助记词）通过主密码加密存储。
    *   支持查看钱包详情（含解密后的敏感数据）和主要代币余额查询。
    *   可将钱包与社交账户进行关联管理。
*   **社交账户管理**:
    *   统一管理多平台社交账户（Twitter, Discord, Telegram, Email 等），包括账户凭证和分组。
    *   支持根据平台动态显示和编辑特定信息（如Twitter 2FA, Discord Token）。
    *   表格中可按平台筛选并安全显示（解密后）相关账户信息。
*   **IP代理管理**:
    *   管理HTTP/HTTPS/SOCKS5代理配置，支持批量测试、导入/导出。
    *   提供代理连通性、延迟、出口IP信息及风险评估。
    *   支持将代理配置应用于Electron应用全局。
*   **脚本插件**:
    *   支持加载和执行用户自定义脚本，实现批量或自动化链上交互。
    *   提供脚本执行配置界面（如关联钱包、代理选择）和实时日志监控。
    *   内置脚本格式标准和通用工具库（HTTP, Web3, Logger, 验证码处理等）。
*   **常用工具**:
    *   聚合常用Web3工具和资源链接（如交易所、钱包插件、数据分析、跨链桥、区块浏览器、安全工具），点击可在外部浏览器中安全打开。
*   **社区交流**:
    *   应用内嵌入Discord社区，支持会话保持和账户管理。
*   **软件设置**:
    *   提供应用级参数配置。
*   **通用交互**:
    *   大部分模块提供统一的数据表格交互，包括搜索、筛选、分页功能。
    *   通过 Toast 提供操作反馈，模态框用于复杂交互和信息展示。

## 安全机制

*   **主密码**: 首次启动强制设置主密码，用于加密本地敏感数据。后续启动需通过持久化模态框输入主密码解锁。
*   **数据加密**: 钱包私钥、助记词及社交账户凭证等敏感信息，使用基于主密码派生的密钥通过 AES-GCM 加密后存储在本地 SQLite 数据库。
*   **持久化模态框**: 核心认证流程（初始密码设置、应用解锁）采用持久化模态框 (`src/js/components/modal.js`)，确保用户完成关键安全步骤。
*   **自动解锁 (可选)**: 支持通过操作系统凭据管理器 (`keytar`) 安全存储主密钥，实现应用的自动解锁。
*   **手动锁定**: 提供应用锁定功能，清除内存和系统中的密钥，下次使用需重新输入主密码。

## 技术栈

*   **框架**: Electron
*   **前端**: HTML5, CSS3, JavaScript (ES Modules)
    *   **UI 组件**: 包括一个可配置的模态框组件 (`src/js/components/modal.js`)，支持常规关闭和持久化显示模式。
*   **本地数据库**: SQLite (通过 `sqlite3` Node.js 模块)
*   **核心库**: Font Awesome, `keytar`, `ethers.js`

## 项目结构概览

项目主要源码位于 `src/` 目录下，分为：
*   `src/main/`: Electron 主进程相关代码，包括应用生命周期管理、核心服务 (加密、钱包生成)、数据库接口、IPC通讯处理和脚本引擎。
*   `src/js/`: 渲染进程相关代码 (前端逻辑)，包括核心应用逻辑 (入口、认证、导航)、UI组件、各功能页面的业务逻辑和工具函数。
*   `src/css/`: 应用的样式文件。
*   `src/assets/`: 图标等静态资源。
*   `index.html`: 应用的主HTML骨架。
*   `preload.js`: Electron预加载脚本。

更详细的目录结构请参考 `project_structure.md` 文件。

## 如何运行 (开发模式)

1.  确保已安装 Node.js (自带 npm)。
2.  克隆或下载本仓库。
3.  在项目根目录下运行 `npm install` 安装依赖。
4.  运行 `npm start` 或 `npm run dev` 启动应用。

## 注意事项

*   **安全第一**: 请务必牢记并妥善保管您设置的主密码。丢失主密码将导致加密数据无法恢复。启用自动解锁功能时，请确保您的操作系统账户安全。
*   **开发状态**: 本项目仍在持续开发中，部分功能可能尚未完善。

## 近期关键增强

*   **脚本插件系统**:
    *   实现了模块化脚本架构，支持用户自定义脚本的加载、配置和执行。
    *   完善了脚本执行引擎，支持代理配置和实时日志输出。
    *   优化了脚本执行相关的钱包选择和UI交互。
*   **安全性与认证**:
    *   增强了模态框组件，支持持久化模式，并应用于初始密码设置和应用解锁流程。
    *   修复了Electron应用打包后数据库路径问题。
*   **核心模块功能**:
    *   **社交账户管理**: 重构数据结构以支持平台特定信息，优化了添加/编辑流程和表格显示。
    *   **教程中心**: 实现教程数据的API加载和应用内`<webview>`嵌入式浏览，优化了外部链接处理。
    *   **社区交流**: 优化了Discord嵌入的会话管理和UI交互。
    *   **IP代理**: 修复了代理测试和应用中的若干问题。

## 贡献

欢迎通过 Issue 或 Pull Request 提供宝贵建议和代码贡献。

## 免责声明

本工具仅供学习和研究使用，用户需自行承担使用过程中的所有风险。开发者不对因使用本工具导致的任何直接或间接损失负责。